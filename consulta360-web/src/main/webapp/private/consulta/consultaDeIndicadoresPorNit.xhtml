<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"   
      xmlns:h="http://java.sun.com/jsf/html"	  
      xmlns:p="http://primefaces.org/ui"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:fn="http://java.sun.com/jsp/jstl/functions">

    <h:body>

        <p:fieldset id="fldsPrincipal" rendered="#{SAT_SEGURIDAD_MB.pagina.consultaDeIndicadoresPorNit.controles.cmdlnkconsultaDeIndicadoresPorNit.rendered}">
            <ui:composition template="../../template/common/layout.xhtml">

                <ui:define name="data">

                    <p:messages id="msgs" globalOnly="true" autoUpdate="true" closable="true" style="text-align: center">
                        <p:effect type="pulsate" event="load" delay="1000" speed="5000"/>                                    
                    </p:messages>
                    <script src="../../public/decPre.js" type="text/javascript"></script>
                    <!--                <style type="text/css">
                                        .ui-panelgrid.showcase-text-align-center .ui-grid-responsive .ui-panelgrid-cell {
                                            text-align: center;
                                        }
                    
                                        .customPanelGrid .ui-panelgrid-content {
                                            align-items: center;
                                        }
                                        td{
                                            border: 0px;
                                        }
                                        .ui-panel{
                                            border: 0px !important;
                                        }
                                        .tbl-grl table{
                                            border: 1px solid #90a6d8;
                                            border-collapse: collapse !important;
                                            border-spacing: 0px !important;
                                            font-family: Verdana,Arial,sans-serif !important;
                                        }
                                        .tbl-grl td{
                                            border: 0.5px solid #90a6d8 !important;
                                        }
                                        .tbl-grl th{
                                            border: 1px solid black !important;
                                            background-color: #0093a9;
                                            color: white;
                                            text-align: center !important;
                                        }
                                        .tbl-grl tr:nth-child(1) {
                                            color: white !important;
                                            background-color: #4c6dc0;
                                            text-align: center;
                                            font-weight: bold !important;
                                            font-size: 30px !important;
                                        }
                                        .sizes {
                                            max-width: 700px !important;
                                            min-width: 200px !important;
                                            white-space: nowrap !important;
                                            overflow: hidden !important;
                                        }
                                        
                                        
                                    </style>-->

                    <script>

                        function mostrar() {
                            document.getElementById('formContent:fldsEditar').setAttribute("style", "display:block");
                        }
                        function detalleInd() {
                            document.getElementById('formContent:mostrarInfo').setAttribute("style", "display:block");
                        }

                        function showTableInd() {
                            document.getElementById('formContent:flsTableInfoIndicador').setAttribute("style", "display:block");

                        }

                    </script>

                    <!--                 <style>
                                        table.mytable{
                                            border: 0px; 
                                            width:100%; 
                                            height:75%;
                                            border-collapse: separate;
                                            border-spacing: 10px 5px;
                                        }
                                        table.mytabledos{
                                            border: 0px; 
                                            width:100%; 
                                            height:75%;
                                            border-collapse: separate;
                                            border-spacing: 10px 5px;
                                        }
                    
                                        .mytd td{
                                            border: 1px solid black !important;
                                            width: 100px;
                                            height: 30px;
                                            text-align: center;
                                            border-radius: 3px;
                                            font-family: sans-serif;
                                            font-size:10px;
                                        }
                                        .mytd td:hover{
                                            background-color: #04040429 !important;
                                        }  
                                        .tblStyle th{
                    /*                        background-color:#0384D0!important;*/
                                            border: 1px solid black !important;
                                            width: auto !important;
                                            color: white;
                                        }
                                    </style>-->


                    <br/>
                    <center>
                        <p:fieldset legend="FILTROS DE BÚSQUEDA" id="fltBuscar" style="width: 800px; tab-size: 100px">
                            <p:panelGrid columns="4" style="width: 850px">

                                <p:column>
                                    <p:outputLabel value="Tipo Indicador"></p:outputLabel>
                                </p:column>
                                <p:column>

                                    <p:selectOneMenu id="indicador" style="width: 93% !important" value="#{consultaDetalleIndicadoressUI.tipoIndicador}">
                                        <f:selectItem itemLabel="Seleccione una opción" itemValue=""/>
                                        <f:selectItem itemLabel="Aduanero" itemValue="Aduanero"/>
                                        <f:selectItem itemLabel="Financiero" itemValue="Financiero"/>
                                        <f:selectItem itemLabel="Tributario" itemValue="Tributario"/>																   
                                    </p:selectOneMenu>

                                </p:column>

                                <p:column>
                                    <p:outputLabel value="Sector Económico"></p:outputLabel>
                                </p:column>
                                <p:column>
                                    <p:selectOneMenu id="sector_economico" style="width: 93% !important" value="#{consultaDetalleIndicadoressUI.sectorEconomico}">
                                        <f:selectItem itemLabel="Seleccione una opción" itemValue=""/>
                                        <f:selectItem itemLabel="ACTIVIDADES INMOBILIARIAS, EMPRESARIALES Y DE ALQUILER" itemValue="ACTIVIDADES INMOBILIARIAS, EMPRESARIALES Y DE ALQUILER"/>
                                        <f:selectItem itemLabel="ADMINISTRACION PUBLICA Y DEFENSA, PLANES DE SEGURIDAD SOCIAL" itemValue="ADMINISTRACIÓN PUBLICA Y DEFENSA, PLANES DE SEGURIDAD SOCIAL"/>
                                        <f:selectItem itemLabel="AGRICULTURA GANADERIA, CAZA Y SILVICULTURA" itemValue="AGRICULTURA GANADERIA, CAZA Y SILVICULTURA"/>	
                                        <f:selectItem itemLabel="COMERCIO AL POR MAYOR Y MENOR" itemValue="COMERCIO AL POR MAYOR Y MENOR"/>	
                                        <f:selectItem itemLabel="CONSTRUCCION" itemValue="CONSTRUCCION"/>	
                                        <f:selectItem itemLabel="EMPLEADOS EN RELACION DE DEPENDENCIA ESTUDIANTES Y JUBILADOS" itemValue="EMPLEADOS EN RELACION DE DEPENDENCIA ESTUDIANTES Y JUBILADOS"/>
                                        <f:selectItem itemLabel="ENSEÑANZA" itemValue="ENSEÑANZA"/>
                                        <f:selectItem itemLabel="EXPLOTACION DE MINAS Y CANTERAS" itemValue="EXPLOTACION DE MINAS Y CANTERAS"/>
                                        <f:selectItem itemLabel="HOGARES PRIVADOS CON SERVICIO DOMESTICO" itemValue="HOGARES PRIVADOS CON SERVICIO DOMESTICO"/>
                                        <f:selectItem itemLabel="HOTELES Y RESTAURANTES" itemValue="HOTELES Y RESTAURANTES"/>
                                        <f:selectItem itemLabel="INDUSTRIAS" itemValue="INDUSTRIAS"/>
                                        <f:selectItem itemLabel="INTERMEDIACION FINANCIERA" itemValue="INTERMEDIACION FINANCIERA"/>
                                        <f:selectItem itemLabel="ORGANIZACIONES Y ORGANOS EXTRATERRITORIALES" itemValue="ORGANIZACIONES Y ORGANOS EXTRATERRITORIALES"/>
                                        <f:selectItem itemLabel="OTRAS ACTIVIDADES DE SERVICIOS COMUNITARIOS, SOCIALES Y PROFESIONALES" itemValue="OTRAS ACTIVIDADES DE SERVICIOS COMUNITARIOS, SOCIALES Y PROFESIONALES"/>
                                        <f:selectItem itemLabel="OTRAS ACTIVIDADES NO ESPECIFICADAS ANTERIORMENTE" itemValue="OTRAS ACTIVIDADES NO ESPECIFICADAS ANTERIORMENTE"/>
                                        <f:selectItem itemLabel="SERVICIOS SOCIALES Y DE SALUD" itemValue="SERVICIOS SOCIALES Y DE SALUD"/>
                                        <f:selectItem itemLabel="SUMINISTRO DE ELECTRICIDAD, GAS Y AGUA" itemValue="SUMINISTRO DE ELECTRICIDAD, GAS Y AGUA"/>
                                        <f:selectItem itemLabel="TRANSPORTE, ALMACENAMIENTO Y COMUNICACIONES" itemValue="TRANSPORTE, ALMACENAMIENTO Y COMUNICACIONES"/>
                                    </p:selectOneMenu>

                                </p:column>

                                <p:column>
                                    <p:outputLabel value="Color"></p:outputLabel>
                                </p:column>

                                <p:column>
                                    <p:selectOneMenu id="color" style="width: 93% !important" value="#{consultaDetalleIndicadoressUI.color}">
                                        <f:selectItem itemLabel="Seleccione una opción" itemValue=""/>
                                        <f:selectItem itemLabel="Rojo" itemValue="Rojo"/>
                                        <f:selectItem itemLabel="Amarillo" itemValue="Amarillo"/>
                                        <f:selectItem itemLabel="Verde" itemValue="Verde"/>																   
                                    </p:selectOneMenu>
                                </p:column>
                                <p:column>
                                    <p:outputLabel value="Región"></p:outputLabel>
                                </p:column>

                                <p:column>
                                    <p:selectOneMenu id="region" style="width: 93% !important" value="#{consultaDetalleIndicadoressUI.region}">
                                        <f:selectItem itemLabel="Seleccione una opción" itemValue=""/>
                                        <f:selectItem itemLabel="Central" itemValue="CENTRAL"/>
                                        <f:selectItem itemLabel="Sur" itemValue="SUR"/>
                                        <f:selectItem itemLabel="Occidente" itemValue="OCCIDENTE"/>	
                                        <f:selectItem itemLabel="Nor-Oriente" itemValue="NOR-ORIENTE"/>		
                                    </p:selectOneMenu>

                                </p:column>
                                <p:column>
                                    <p:outputLabel value="Año"></p:outputLabel>
                                </p:column>
                                <p:column>
                                    <p:selectOneMenu id="anio" style="width: 93% !important" value="#{consultaDetalleIndicadoressUI.anio}">
                                        <f:selectItem itemLabel="Seleccione una opción" itemValue=""/>
                                        <f:selectItem itemLabel="2017" itemValue="2017"/>
                                        <f:selectItem itemLabel="2018" itemValue="2018"/>
                                        <f:selectItem itemLabel="2019" itemValue="2019"/>	
                                        <f:selectItem itemLabel="2020" itemValue="2020"/>	
                                        <f:selectItem itemLabel="2021" itemValue="2021"/>	
                                        <f:selectItem itemLabel="2022" itemValue="2022"/>	
                                    </p:selectOneMenu>
                                </p:column>
                                <p:column>
                                    <p:outputLabel value="Clasificación"></p:outputLabel>
                                </p:column>
                                <p:column>

                                    <p:selectOneMenu id="clasificacion" style="width: 93% !important" value="#{consultaDetalleIndicadoressUI.clasificacion}">
                                        <f:selectItem itemLabel="Seleccione una opción" itemValue="" />
                                        <f:selectItem itemLabel="Especial Grande" itemValue="ESPECIAL GRANDE"/>
                                        <f:selectItem itemLabel="Especial Mediano" itemValue="ESPECIAL MEDIANO"/>
                                        <f:selectItem itemLabel="Grande Regional Sur" itemValue="GRANDE REGIONAL SUR"/>	
                                        <f:selectItem itemLabel="Grande Regional Occidente" itemValue="GRANDE REGIONAL OCCIDENTE"/>	
                                        <f:selectItem itemLabel="Grande Regionar Nor-Oriente" itemValue="GRANDE REGIONAL NOR-ORIENTE"/>	
                                        <f:selectItem itemLabel="Normal" itemValue="NORMAL"/>	
                                    </p:selectOneMenu>
                                </p:column>
                            </p:panelGrid>

                        </p:fieldset>


                    </center>         
                    <br/>


                    <p:column>
                        <p:commandButton value="Buscar" 
                                         action="#{consultaDetalleIndicadoressUI.buscar()}" 
                                         oncomplete="showTableInd()"
                                         update=":formContent:fltBuscar,:formContent:flsTableInfoIndicador,"
                                         icon="fa fa-fw fa-search"
                                         style="color: #fff !important;-webkit-text-fill-color: #fff;background-color: #229DDF !important;border-radius: 200px !important; width: 150px; height:35px; tab-size: 14 "/>

                    </p:column>
                    <td></td>
                    <td></td>
                    <p:column>
                        <p:commandButton value="Limpiar" 
                                         action="#{consultaDetalleIndicadoressUI.limpiar()}" 
                                         update=":formContent:fltBuscar,:formContent:flsTableInfoIndicador,"
                                         icon="fa fa-fw fa-eraser"
                                         style="color: #fff !important;-webkit-text-fill-color: #fff;background-color: #b81121 !important; border-radius: 200px !important; width: 150px; height:35px; tab-size: 14"/>
                        <!--<p:ajax update=":formContent:fltBuscar" resetValues="true"/>-->

                    </p:column>
                    <br/><br/><br/>

              <p:panel>

                 <p:fieldset id="flsTableInfoIndicador" widgetVar="flsTableInfoIndicador" style="display: none; padding-right: 30px !important;"  >
                     <div align="center" style="overflow: auto; width: 100%; height: 100%">
                             
                               <p:dataTable id="detalle" style=" width: 300% "
                                             paginator="true"
                                             paginatorTemplate="{CurrentPageReport} {FirstPageLink}
                                             {PreviousPageLink} {PageLinks} {NextPageLink}
                                             {LastPageLink}"
                                             currentPageReportTemplate="Pág. ({currentPage} de {totalPages})"
                                             rows="10" 
                                             paginatorPosition="bottom"
                                             ariaRowLabel="true"        
                                             var="consulta"                                           
                                             value="#{consultaDetalleIndicadoressUI.listaContribuyentes}"
       
                                             emptyMessage="NO EXISTEN DATOS PARA MOSTRAR">
                                    <f:facet name="header">
                                        Vista de Indicadores Detalle
                                    </f:facet>
                                    <p:column colspan="2" headerText="NIT" style="width:100px !important;  text-align: center" >
                                        <h:outputText value="#{consulta.nit}" />
                                    </p:column>              
                                    
                                    <p:column colspan="3"  headerText="Nombre Contribuyente"  style="width:500px !important;  text-align: center">
                                        <h:outputText value="#{consulta.nombreContrIns}" />
                                    </p:column>
                                     <p:column colspan="3"  headerText="Status"  style="width:70px !important;  text-align: center" >
                                         <h:outputText value="#{consulta.status}" />
                                    </p:column>
                                    
                                     <p:column colspan="2"  headerText="Sector Económico" style="width:500px !important;  text-align: center" >
                                         <h:outputText value="#{consulta.sectorEconomico}" />
                                    </p:column>
                                    
                                     <p:column colspan="2"  headerText="Región" style="text-align: center" >
                                        <h:outputText value="#{consulta.region}" />
                                    </p:column>
                                    
                                    <p:column colspan="2"  headerText="Clasificación" style="text-align: center" >
                                        <h:outputText  value="#{consulta.clasificacion}" style="text-align: center" />
                                        
                                    </p:column>
                                    
                                      <p:column colspan="2"  headerText="Personeria" style="text-align: center" >
                                          <h:outputText  value="#{consulta.personeria}" style="text-align: center" />
                                        
                                    </p:column>
                                    
                                      <p:column colspan="2"  headerText="Afiliación IVA " style="text-align: center" >
                                          <h:outputText  value="#{consulta.afiliacionIva}" style="text-align: center" />
                                        
                                    </p:column>
                                    
                                      <p:column colspan="2"  headerText="Fecha IVA " style="text-align: center" >
                                          <h:outputText  value="#{consulta.fechaIva}" style="text-align: center" />
                                        
                                    </p:column>
                                    
                                      <p:column colspan="2"  headerText="Afiliación ISR" style="text-align: center">
                                          <h:outputText  value="#{consulta.afiliacionIsr}" style="text-align: center" />
                                        
                                    </p:column>
                                   
                                       <p:column colspan="2"  headerText="Fecha ISR" style="text-align: center">
                                           <h:outputText  value="#{consulta.fechaIsr}" style="text-align: center" />
                                        
                                    </p:column>
                                    
                                      <p:column colspan="2"  headerText="Establecimientos Activos" style="text-align: center">
                                          <h:outputText  value="#{consulta.establecimientosActivos}" style="text-align: center" />
                                       </p:column>
                                    
                                     <p:column colspan="2"  headerText="Establecimientos Inactivos" style="text-align: center" >
                                         <h:outputText  value="#{consulta.establecimientosInactivos}" style="text-align: center" />
                                        
                                    </p:column>
                                    
                                      <p:column colspan="2"  headerText="Plan operativo actual" style="text-align: center" >
                                          <h:outputText  value="#{consulta.plOpActual}" style="text-align: center" />
                                        
                                    </p:column>
                                   
                                    <p:column colspan="1"  headerText="Año" style="text-align: center">
                                        <h:outputText value="#{consulta.anio}" />
                                    </p:column>
                                   
                                    
                                     <p:column colspan="1"  headerText="Id Indicador" style="text-align: center">
                                         <h:outputText value="#{consulta.idIndicador}" />
                                    </p:column>
                                    
                                     <p:column colspan="1"  headerText="Indicador" style="width:300px !important;  text-align: center">
                                         <h:outputText value="#{consulta.nombreIndicador}" />
                                    </p:column>
                                    
                                    <p:column colspan="2" headerText="Tipo Indicador" style="text-align: center">
                                        <h:outputText value="#{consulta.tipoIndicador}" />
                                    </p:column>
                                    
                                    <p:column colspan="2" headerText="Numerador" style="text-align: center" >
                                        <h:outputText value="#{consulta.numerador}" />
                                    </p:column>
                                    <p:column colspan="2" headerText="Denominador" style="text-align: center" >
                                        <h:outputText value="#{consulta.denominador}" />
                                    </p:column>
                                    
                                    <p:column colspan="2" headerText="Coeficiente sector económico" style="text-align: center" >
                                        <h:outputText value="#{consulta.coeficienteSectorEco}" />
                                    </p:column>
                                    
                                    <p:column  colspan="2" headerText="Coeficiente" style="text-align: center; size: 12">
                                        <h:outputText value="#{consulta.coeficiente}" />
                                    </p:column>
                                  
                                    <p:column colspan="2" headerText="Color" style="text-align: center">
                                        <h:outputText value="#{consulta.color}" />
                                    </p:column>
                                    

                                </p:dataTable>
                        </div>
                            <br/>
                            <div align="right">
                                <h:commandLink  action="#{consultaDetalleIndicadoressUI.exportare()}" >  
                                    <p:graphicImage value="../../resources/images/exportar_excel.png" width="80px"/>  
                                </h:commandLink> 
                            </div>
                 </p:fieldset>
                   </p:panel>
                </ui:define>
            </ui:composition>
     </p:fieldset>
    </h:body> 
</html>